<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>GPLucky | Login</title>

    <link th:href="@{/inspinia/css/bootstrap.min.css}" rel="stylesheet"/>
    <link th:href="@{/inspinia/font-awesome/css/font-awesome.css}" rel="stylesheet"/>
    <!-- Toastr style -->
    <link th:href="@{/inspinia/css/plugins/toastr/toastr.min.css}" rel="stylesheet">

    <link th:href="@{/inspinia/css/animate.css}" rel="stylesheet"/>
    <link th:href="@{/inspinia/css/style.css}" rel="stylesheet"/>

</head>

<body class="gray-bg">

<div class="middle-box text-center loginscreen animated fadeInDown">
    <div>
        <div>

            <h1 class="logo-name">GPL</h1>

        </div>
        <h3>Welcome to GPLucky</h3>
        <p>Perfectly designed and precisely prepared admin theme with over 50 pages with extra new web app views.
            <!--Continually expanded and constantly improved Inspinia Admin Them (IN+)-->
        </p>
        <p>Login in. To see it in action.</p>
        <form class="m-t" id="form" role="form" th:action="@{/postLogin.html}" th:method="post">
            <div class="form-group">
                <input type="text" class="form-control" placeholder="Username" name="username" required="">
            </div>
            <div class="form-group">
                <input type="password" class="form-control" placeholder="Password" name="password" required="">
            </div>
            <button type="submit" class="btn btn-primary block full-width m-b">登录</button>

            <a href="#">
                <small>忘记密码?</small>
            </a>
            <p class="text-muted text-center">
                <small>没有账号?</small>
            </p>
            <a class="btn btn-sm btn-white btn-block" href="register.html">创建账号</a>
        </form>
        <p class="m-t">
            <small>上海幸运股信息技术有限公司 2016-2017</small>
        </p>
    </div>
    <div>
        <input th:type="hidden" th:id="errorMsg" th:value="${errorMsg}" />
        <input th:type="hidden" th:id="registerFlg" th:value="${registerFlg}" />
    </div>
</div>

<!-- Mainly scripts -->
<script th:src="@{/inspinia/js/jquery-2.1.1.js}"></script>
<script th:src="@{/inspinia/js/bootstrap.min.js}"></script>

<!-- Toastr -->
<script th:src="@{/inspinia/js/plugins/toastr/toastr.min.js}"></script>

<script>
    $(document).ready(function () {
        setTimeout(function () {
            var errorMsg = $('#errorMsg').val();
            if(errorMsg.length != 0){
                toastr.options = {
                    closeButton: true,
                    progressBar: true,
                    showMethod: 'slideDown',
                    timeOut: 1000
                };
                toastr.error('验证不通过', errorMsg);
            }
        }, 0);
        setTimeout(function () {
            var registerFlg = $('#registerFlg').val();
            if('success' == registerFlg){
                toastr.options = {
                    closeButton: true,
                    progressBar: true,
                    showMethod: 'slideDown',
                    timeOut: 1000
                };
                toastr.success('注册成功', 'Welcome to GPLucky');
            }
        }, 1300);
    });
</script>
</body>

</html>
